<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover"
    />
    <title>Sääennuste - Nopein tapa tarkastaa Ilmatieteen laitoksen sää</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />

    <link rel="icon" href="favicon.svg" type="image/svg+xml" sizes="any" />

    <link rel="icon" type="image/png" sizes="144x144" href="/ios/144.png" />

    <link rel="icon" type="image/png" sizes="192x192" href="/ios/192.png" />

    <link
      href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@600&family=Open+Sans:ital,wdth,wght@0,87.5,300..800;1,87.5,300..800&display=swap"
      rel="stylesheet"
    />

    <style>
      html {
        margin: 0;
        padding: 0;

        min-height: calc(100% + env(safe-area-inset-top));
      }

      body {
        /* End of common CSS properties */

        box-sizing: border-box;

        /* default font */
        font-family: 'Open Sans', serif;
        font-optical-sizing: auto;
        font-weight: 300;
        font-style: normal;
        font-variation-settings: 'wdth' 87.5;
        font-size: 16px;

        --font-family-secondary: 'MuseoModerno', sans-serif;

        margin: 0;
        padding: 0;

        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
      }

      /* CSS VARIABLES */
      body {
        --safe-area-inset-bottom: env(safe-area-inset-bottom, 20px);

        --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --box-shadow-upwards: 0px -4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);

        /* Responsive  */

        --margin: 0rem;
        --padding-body: 0;
        --padding-panel: 0;
        --padding-panel-textual: var(--space-xl) var(--space-m);

        --border-radius: 0;

        @media only screen and (min-width: 360px) {
          --margin: var(--space-s);
          --border-radius: 4px;
        }

        @media only screen and (min-width: 400px) {
          --margin: var(--space-m);
          --padding-panel: var(--space-m) var(--space-m);

          --padding-panel-textual: var(--space-l) var(--space-l);
        }
        @media only screen and (min-width: 450px) {
          --margin: var(--space-l);
        }

        @media only screen and (min-width: 600px) {
          --margin: var(--space-xl);
        }

        @media only screen and (min-width: 1200px) {
        }

        /*
       * Modular scale base 1.1em, ratio 1.25 (modularscale.com)
       * e.g. 1.1em, 1,375
       */
        --font-size-xxs: 0.704rem;
        --font-size-xs: 0.88rem;
        --font-size-s: 1.1rem;
        --font-size-m: 1.375rem;
        --font-size-l: 1.719rem;
        --font-size-xl: 2.148rem;
        --font-size-xxl: 3.357rem;
        --font-size-xxxl: 4.196rem;
        --font-size-xxxxl: 5.245rem;
        --font-size-xxxxxl: 6.557rem;

        --font-weight-normal: 300;
        --font-weight-bold: 500;

        --line-height-dense: 0.9;

        /* Use 0.25rem grid everywhere */
        --space-s: 0.25rem;
        --space-m: 0.5rem;
        --space-l: 1rem;
        --space-xl: 2rem;
        --space-xxl: 2rem;

        --transition-time: 0.3s;
        --transition-cubic-bezier: cubic-bezier(0.36, 1.01, 0.32, 1.27);

        /* z-index-1 and 2 are for ordering elements that are not lifted from UI */
        --z-index-1: 1;
        --z-index-2: 2;

        /* Use only for floating/fixed elements that must be in front of everything */
        --z-index-floating-1: 3;
        --z-index-floating-2: 4;

        /* BREAKPOINTS (copy from here, as CSS variables cannot be used in media queries)

        Compact
          - [0 - 399px]
          - default (mobile first)
          - no rounded corners in sections

        1 column layout
          - [399px]
          - small paddings
          - round section corners
          - more padding at 600px
      

        2 column layout
          - [700px]
          - no other changes than 2 columns


        3 column layout
          - [1000px]
          - more left / right padding at 1200px 
      */

        /* Colors */

        --color-gray-hue: 213;

        --color-gray-100: hsl(var(--gray-hue), 3%, 99%);
        --color-gray-200: hsl(var(--color-gray-hue), 3%, 98%);
        --color-gray-300: hsl(var(--color-gray-hue), 3%, 96%);
        --color-gray-400: hsl(var(--color-gray-hue), 3%, 93%);
        --color-gray-500: hsl(var(--color-gray-hue), 3%, 89%);
        --color-gray-600: hsl(var(--color-gray-hue), 3%, 60%);
        --color-gray-700: hsl(var(--color-gray-hue), 3%, 40%);
        --color-gray-800: hsl(var(--color-gray-hue), 3%, 27%);
        --color-gray-900: hsl(var(--color-gray-hue), 3%, 20%);
        --color-gray-1000: hsl(var(--color-gray-hue), 3%, 16%);

        --color-red-hue: 2;

        --color-red-300: hsl(var(--color-red-hue), 65%, 67%);
        --color-red-500: hsl(var(--color-red-hue), 84%, 55%);

        --color-blue-hue: 213; /* originally 207 */

        --color-blue-100: hsl(var(--color-blue-hue), 54%, 95%);
        --color-blue-400: hsl(var(--color-blue-hue), 62%, 81%);
        --color-blue-500: hsl(var(--color-blue-hue), 66%, 37%);
        --color-blue-600: hsl(var(--color-blue-hue), 56%, 41%);
        --color-blue-700: hsl(var(--color-blue-hue), 66%, 27%);
        --color-blue-800: hsl(var(--color-blue-hue), 61%, 23%);

        --color-yellow-300: hsl(47, 90%, 85%);
        --color-yellow-500: hsl(47, 90%, 66%);

        --color-orange-500: hsl(40, 100%, 50%);

        /* not used in icons */
        --color-rain: hsl(199, 85%, 50%);
        --color-snow: hsl(199, 85%, 71%);

        /* new colors */
        --background: hsl(195, 14%, 80%);
        --background-middle: var(--color-gray-300);
        --background-topmost: var(--color-gray-200);

        --color-light: var(--color-blue-100);
        --color-dark: var(--color-blue-800);
        --color-dark-and-light: var(--color-blue-800);

        --color-secondary-dark-and-light: var(--color-blue-600);

        --color-turquoise: #a1c3d3;
        --color-pink: #ffd0d5;
        --color-yellow: var(--color-yellow-300);
        --color-gray: var(--color-gray-400);
        --color-green: hsl(152, 41%, 80%);
        --color-blue: var(--color-blue-800);

        /* Component specific colors, dark mode */
        --color-temperature-negative: var(--color-blue-500);
        --background-wind: var(--color-gray-100);
        --color-wind: var(--color-light);

        --background-wind-warning: var(--color-orange-500);
        --color-wind-warning: #333;

        --background-wind-warning2: var(--color-red-500);
        --color--wind-warning: var(--color-light);

        --background-selected-station: var(--color-gray-300);
        --background-station: var(--color-blue-800);
        --background-map: var(--color-blue-600);

        --background-min: var(--color-blue-400);
        --background-max: var(--color-pink);
      }

      /* DARK THEME */
      body.force-dark-mode {
        /* new colors, dark mode */
        --background: var(--color-gray-1000);
        --background-middle: var(--color-gray-900);
        --background-topmost: var(--color-gray-800);

        --color-light: var(--color-gray-400);
        --color-dark: var(--color-blue-800);
        --color-dark-and-light: var(--color-gray-400);

        --color-secondary-dark-and-light: var(--color-gray-500);

        --color-turquoise: #a1c3d3;
        --color-pink: #ffd0d5;
        --color-yellow: var(--color-yellow-300);
        --color-gray: var(--color-gray-400);

        --color-blue: var(--color-blue-800);

        --color-blue-800: hsl(var(--color-blue-hue), 28%, 20%);

        /* Component specific colors, dark mode */

        --color-temperature-negative: var(--color-blue-400);

        --background-wind: var(--background-middle);
        --color-wind: var(--color-light);

        --background-wind-warning: var(--color-orange-500);
        --color-wind-warning: #333;

        --background-wind-warning2: var(--color-red-500);
        --color-wind-warning2: var(--color-light);

        --background-selected-station: var(--color-gray-400);
        --background-station: var(--background);
        --background-map: var(--background-middle);
      }

      weather-app {
        background: var(--background);
      }

      .sun-icon {
        display: block;
        margin: auto;

        width: 128px;
        height: 128px;

        animation: rotation 23s infinite linear;
        -webkit-animation: rotation 23s infinite linear;
      }

      @keyframes rotation {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(359deg);
        }
      }

      @-webkit-keyframes rotation {
        from {
          -webkit-transform: rotate(0deg);
        }
        to {
          -webkit-transform: rotate(359deg);
        }
      }
    </style>

    <script
      defer
      type="module"
      src="./src/app-sections/weather-app/weather-app"
    ></script>

    <base href="/" />

    <meta name="author" content="saaennuste.fi" />
    <meta
      name="description"
      content="Tuttu ilmatieteen laitoksen sääennuste. Kännykälle optimoidussa 
      muodossa. Näe sääasemien tiedot ja 10 vrk ennuste kerralla."
    />

    <!-- social media meta data-->
    <meta property="og:title" content="Sääennuste" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://saaennuste.fi" />
    <meta
      property="og:image"
      content="https://saaennuste.fi/assets/image/weather-icon-192x192.png"
    />
    <meta property="og:site_name" content="Sääennuste" />
    <meta
      property="og:description"
      content="Nopein tapa tarkastaa Ilmatieteen laitoksen sääennuste. Palvelu tarjoaa ajantasaisen säätiedon ja 10 päivän ennusteen."
    />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org/",
        "@type": ["WebSite", "WeatherForecast"],
        "inLanguage": "fi",
        "image": "https://saaennuste.fi/ios/512.png",
        "name": "Saaennuste.fi",
        "sameAs": ["https://www.facebook.com/saaennuste.fi"],
        "description": "Nopein tapa tarkastaa Ilmatieteen laitoksen sääennuste. Palvelu tarjoaa ajantasaisen säätiedon ja 10 päivän ennusteen.",
        "url": "https://saaennuste.fi",
        "keywords": [
          "sääennuste",
          "luotettavin sääennuste",
          "ilmatieteen laitos sää",
          "ilmanpaine nyt",
          "ilmankosteus nyt",
          "sää",
          "ilmatieteen sää"
        ],
        "publisher": {
          "@type": "Organization",
          "name": "Saaennuste.fi"
        }
      }
    </script>

    <script
      async
      src="https://app.tinyanalytics.io/pixel/DkbjgLE6S883ZSdF"
    ></script>
  </head>
  <body>
    <weather-app></weather-app>

    <script>
      document.addEventListener('bottom-sheet.toggle-darkmode', () => {
        document.body.classList.toggle('force-dark-mode');
      });

      /* A fix for the iOS orientationchange zoom bug.
      Script by @scottjehl, rebound by @wilto.
      MIT / GPLv2 License.
      */
      (function iife(w) {
        // This fix addresses an iOS bug, so return early if the UA claims it's something else.
        const ua = navigator.userAgent;
        if (
          !(
            /iPhone|iPad|iPod/.test(navigator.platform) &&
            /OS [1-5]_[0-9_]* like Mac OS X/i.test(ua) &&
            ua.indexOf('AppleWebKit') > -1
          )
        ) {
          return;
        }

        const doc = w.document;

        if (!doc.querySelector) {
          return;
        }

        const meta = doc.querySelector('meta[name=viewport]');
        const initialContent = meta && meta.getAttribute('content');
        const disabledZoom = `${initialContent},maximum-scale=1`;
        const enabledZoom = `${initialContent},maximum-scale=10`;
        let enabled = true;
        let x;
        let y;
        let z;
        let aig;

        if (!meta) {
          return;
        }

        function restoreZoom() {
          meta.setAttribute('content', enabledZoom);
          enabled = true;
        }

        function disableZoom() {
          meta.setAttribute('content', disabledZoom);
          enabled = false;
        }

        function checkTilt(e) {
          aig = e.accelerationIncludingGravity;
          x = Math.abs(aig.x);
          y = Math.abs(aig.y);
          z = Math.abs(aig.z);

          // If portrait orientation and in one of the danger zones
          if (
            (!w.orientation || w.orientation === 180) &&
            (x > 7 || (((z > 6 && y < 8) || (z < 8 && y > 6)) && x > 5))
          ) {
            if (enabled) {
              disableZoom();
            }
          } else if (!enabled) {
            restoreZoom();
          }
        }

        w.addEventListener('orientationchange', restoreZoom, false);
        w.addEventListener('devicemotion', checkTilt, false);
      })(this);
    </script>

    <noscript>Please enable JavaScript to view this website</noscript>
  </body>
</html>
